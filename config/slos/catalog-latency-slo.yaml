apiVersion: pyrra.dev/v1alpha1
kind: ServiceLevelObjective
metadata:
  name: catalog-latency
  labels:
    pyrra.dev/team: magiclook
    pyrra.dev/service: catalog
spec:
  description: "RNF 3: Catalog browsing operations must respond within 800ms for 95% of requests"
  target: "95"
  window: 30d
  indicator:
    latency:
      success:
        metric: http_server_requests_seconds_bucket{uri=~".*items.*|.*dashboard.*", le="0.8"}
      total:
        metric: http_server_requests_seconds_count{uri=~".*items.*|.*dashboard.*"}
